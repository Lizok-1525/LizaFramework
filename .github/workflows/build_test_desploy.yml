name: ðŸš€ FTP Deploy

on:
  push:
    branches:
      - main  # Se ejecuta cuando hay cambios en la rama principal

jobs:
  deploy:
    name: ðŸ“‚ Subir archivos por FTP
    runs-on: ubuntu-latest

    steps:
    - name: ðŸ›’ Obtener el cÃ³digo del repositorio
      uses: actions/checkout@v3

    - name: ðŸ“¦ Instalar LFTP
      run: sudo apt update && sudo apt install -y lftp

    - name: Crear carpeta www/
      run: mkdir -p LizaFramework

    - name: ðŸ“¤ Subir archivos al servidor FTP (Sobreescribir sin eliminar)
      run: |
        lftp -e "
        set ftp:ssl-allow no;
        open -u ${{ secrets.FTP_USER }},${{ secrets.FTP_PASSWORD }} ${{ secrets.FTP_HOSTNAME }};
        cd /public_html/  # Ir al directorio remoto donde se subirÃ¡n los archivos
        mput -E -c -O /public_html/ dist/*  # Sube todos los archivos de 'dist/' y sobrescribe los existentes
        bye
        "